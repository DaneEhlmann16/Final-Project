{% extends "base.html" %}

{% block content %}
<h2 style="text-align:center;">Reserve Your Seat</h2>
<hr>

{% if success_message %}
    <p>{{ success_message }}</p>
    <p>{{ ticket_message }}</p>
{% endif %}

<h3 style="text-align:center;">Seating Chart</h3>
<p style="text-align:center; margin-bottom: 10px;">
    X = Reserved Seat : O = Available Seat
</p>

<div style="display:flex; justify-content:flex-start; gap:40px; align-items:flex-start; margin-top: 10px;">

    <!-- Seating chart box (left) -->
    <div style="
        padding: 15px;
        background-color: #d0def5;
        border-radius: 15px;
        font-family: monospace;
        box-shadow: 0 0 4px rgba(0,0,0,0.2);
    ">
        {% for row in seating_chart %}
            ['{{ row[0] }}', '{{ row[1] }}', '{{ row[2] }}', '{{ row[3] }}']<br>
        {% endfor %}
    </div>

    <!-- Reservation form (right) -->
    <div>
        <form method="post">
            <p>
                <label>First Name<br>
                    <input type="text" name="first_name" required>
                </label>
            </p>

            <p>
                <label>Last Name<br>
                    <input type="text" name="last_name" required>
                </label>
            </p>

            <p>
                <label>Choose a Row:<br>
                    <select name="seat_row" required>
                        <option value="">Choose a Row</option>
                        {% for r in range(1, 13) %}
                            <option value="{{ r }}">{{ r }}</option>
                        {% endfor %}
                    </select>
                </label>
            </p>

            <p>
                <label>Choose a Seat:<br>
                    <select name="seat_col" required>
                        <option value="">Choose a Seat</option>
                        {% for c in range(1, 5) %}
                            <option value="{{ c }}">{{ c }}</option>
                        {% endfor %}
                    </select>
                </label>
            </p>

            <p style="margin-top:10px;">
                <button type="submit">Submit</button>
            </p>
        </form>
    </div>

</div>
{% endblock %}